---
- name: Set Default Repos for RHEL 7
  hosts: all
  gather_facts: False
  vars:

  tasks:
    - name: Rhel 7 specific Repos
      block:
        - name: Disable rhel-7-server-htb-rpms Repos
          rhsm_repository:
            name: rhel-7-server-htb-rpms
            state: disabled
        - name: Enable Repos
            name:
              - rhel-7-server-rpms
              - rhel-7-server-extras-rpms
              - rhel-server-rhscl-7-rpms
             state: enable        

      when:
        - ansible_distribution == "RedHat"
        - ansible_distribution_major_version == "7"
